// Generated by CoffeeScript 1.3.1

$(function() {
  var effects;
  $('.area').each(function() {
    var $this;
    $this = $(this);
    $this.height($this.height());
    $this.width($this.width());
    return $this.addClass('enable-animations');
  });
  effects = {
    rPosition: /.*(position-\d+).*/i,
    sendBack: function($area, pos) {
      pos = pos.replace(this.rPosition, '$1');
      if (pos != null) {
        return $area.addClass(pos).one('transitionend', function() {
          $.data($area[0], 'contents', $area.contents().detach());
          return $area.addClass('in-background');
        });
      }
    },
    recall: function($area) {
      var pos;
      pos = $area.attr('class').replace(this.rPosition, '$1');
      if (pos != null) {
        return $area.removeClass("" + pos + " in-background").append($.data($area[0], 'contents'));
      }
    }
  };
  return $('.area').on('click', 'a[href^=#position]', function(e) {
    var $area;
    $area = $(this).closest('.area');
    log($area);
    $area.switchPosition('send', this.hash);
    $area.one('click', function() {
      return $area.switchPosition('recall');
    });
    return e.preventDefault();
  });
});
