"use strict";(function(){var e=function(){},t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],n=t.length,r=window.console||{};while(n--)r[t[n]]||(r[t[n]]=e)})(),function(e,t){var n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},r=n[Modernizr.prefixed("transition")],i={isActive:function(e){var t=e.css("transform");return t&&t!="none"},transitionCheckTimeOut:12,on:function(e,t){e.on(r+".switchPosition",function(){t()});var n=setTimeout(function(){i.isActive(e)||t()},i.transitionCheckTimeOut);e.data("timer.switchPosition",n)},off:function(e){e.off(r+".switchPosition");var t=e.data("timer.switchPosition");t&&(clearTimeout(t),e.removeData("timer.switchPosition"))}},s={request:function(t,n){var r=t[0],i=e.data(r,"state");i!=null&&this.states.hasOwnProperty(i)&&this.states[i].release.call(t),n!=null&&this.states.hasOwnProperty(n)&&this.states[n].init.call(t),e.data(r,"state",n)},states:{}};s.states.front={init:function(){},release:function(){}},s.states.back={init:function(){var e="position-"+this.data("position");this.addClass(e+" in-background")},release:function(){var e="position-"+this.data("position");this.removeClass(e+" in-background")}},s.states["move-to-front"]={init:function(){var e=this;i.on(this,function(){s.request(e,"front")})},release:function(){i.off(this)}},s.states["move-to-back"]={init:function(){var e="position-"+this.data("position"),t=this;this.addClass(e),i.on(this,function(){s.request(t,"back")})},release:function(){var e="position-"+this.data("position");this.removeClass(e),i.off(this)}},e.fn.switchPosition=function(t){var n=/^(front|back)(-flash)?$/i;return n.test(t)?this.each(function(){var r=e(this),i=e.data(this,"state");t.indexOf("flash")!=-1?s.request(r,t.replace(n,"$1")):t!==i&&s.request(r,"move-to-"+t)}):(console.error('$#switchPosition: Invalid target position "%s", avaible: front, back, front-flash, back-flash',t),this)}}($,document);